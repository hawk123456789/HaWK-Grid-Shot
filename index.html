<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Web-Hawk Aim Trainer Mobile Pro</title>
    <style>
        :root {
            --primary-color: #2ecc71;
            --bg-color: #f4f7f6;
            --play-area-bg: #2c3e50;
        }

        body {
            background-color: var(--bg-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            margin: 0;
            touch-action: manipulation;
            /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Double Tap Zoom */
        }

        /* ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ */
        .stat-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            width: 100%;
            max-width: 900px;
        }

        .stat-box {
            text-align: center;
            flex: 1;
        }

        .stat-label {
            margin: 0;
            color: #7f8c8d;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .stat-value {
            margin: 0;
            color: #2c3e50;
            font-size: clamp(1.2rem, 5vw, 1.8rem);
        }

        /* ‡∏™‡∏ô‡∏≤‡∏°‡∏ù‡∏∂‡∏Å */
        #play-area {
            position: relative;
            width: 100%;
            max-width: 900px;
            height: 60vh;
            /* ‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πà‡∏ß‡∏¢ vh ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
            max-height: 500px;
            background: var(--play-area-bg);
            border-radius: 20px;
            overflow: hidden;
            cursor: crosshair;
            border: 4px solid #34495e;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏¢‡∏¥‡∏á */
        .target {
            position: absolute;
            width: 50px;
            height: 50px;
            background: radial-gradient(circle, #ff7675 0%, #ff7675 25%, #d63031 26%, #d63031 100%);
            border: 3px solid white;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.05s;
            box-shadow: 0 0 15px rgba(214, 48, 49, 0.6);
            touch-action: none;
        }

        /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
        @media (max-width: 600px) {
            .target {
                width: 45px;
                height: 45px;
            }
        }

        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
            width: 100%;
        }

        #start-btn {
            padding: 12px 40px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            font-size: 18px;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
        }

        .volume-box {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #7f8c8d;
            font-size: 14px;
        }

        input[type="range"] {
            cursor: pointer;
        }
    </style>
</head>

<body>

    <div class="stat-container">
        <div class="stat-box">
            <p class="stat-label">SCORE</p>
            <h2 id="score" class="stat-value">0</h2>
        </div>
        <div class="stat-box">
            <p class="stat-label">ACCURACY</p>
            <h2 id="accuracy" class="stat-value">100%</h2>
        </div>
        <div class="stat-box">
            <p class="stat-label">TIME</p>
            <h2 id="timer" class="stat-value" style="color: #e74c3c;">30s</h2>
        </div>
    </div>

    <div id="play-area"></div>

    <div class="controls">
        <button onclick="startGame()" id="start-btn">START TRAINING</button>

        <div class="volume-box">
            <span>üîà</span>
            <input type="range" id="volume-control" min="0" max="1" step="0.1" value="0.5">
            <span id="volume-label">50%</span>
            <span>üîä</span>
        </div>
    </div>

    <script>
        let score = 0, totalClicks = 0, hits = 0;
        let bullseyeHits = 0, outerHits = 0, totalMisses = 0;
        let timeLeft = 30, gameActive = false, timerInterval;
        let lastPositions = [];

        const hitSound = new Audio('https://www.soundjay.com/buttons/sounds/button-3.mp3');
        const missSound = new Audio('https://www.soundjay.com/buttons/sounds/button-10.mp3');

        const playArea = document.getElementById('play-area');
        const scoreEl = document.getElementById('score');
        const accuracyEl = document.getElementById('accuracy');
        const timerEl = document.getElementById('timer');
        const volInput = document.getElementById('volume-control');
        const volLabel = document.getElementById('volume-label');

        // ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        function updateVolume() {
            const v = volInput.value;
            hitSound.volume = v;
            missSound.volume = v;
            volLabel.innerText = Math.round(v * 100) + '%';
        }
        volInput.addEventListener('input', updateVolume);
        updateVolume();

        // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á (Miss)
        playArea.addEventListener('pointerdown', (e) => {
            if (!gameActive || e.target !== playArea) return;
            missSound.currentTime = 0;
            missSound.play();
            totalClicks++;
            totalMisses++;
            score = Math.max(0, score - 50);
            updateStats();
        });

        function startGame() {
            score = 0; totalClicks = 0; hits = 0;
            bullseyeHits = 0; outerHits = 0; totalMisses = 0;
            timeLeft = 30; gameActive = true;
            lastPositions = [];
            playArea.innerHTML = '';
            document.getElementById('start-btn').style.visibility = 'hidden';
            updateStats();

            for (let i = 0; i < 3; i++) createTarget();

            timerInterval = setInterval(() => {
                timeLeft--;
                timerEl.innerText = timeLeft + 's';
                if (timeLeft <= 0) endGame();
            }, 1000);
        }

        function createTarget() {
            if (!gameActive) return;

            const target = document.createElement('div');
            target.className = 'target';

            let x, y, isTooClose, attempts = 0;
            const targetSize = window.innerWidth < 600 ? 45 : 50;

            do {
                isTooClose = false;
                x = Math.random() * (playArea.clientWidth - targetSize - 10);
                y = Math.random() * (playArea.clientHeight - targetSize - 10);

                lastPositions.forEach(pos => {
                    const dist = Math.sqrt(Math.pow(x - pos.x, 2) + Math.pow(y - pos.y, 2));
                    if (dist < 100) isTooClose = true;
                });
                attempts++;
            } while (isTooClose && attempts < 20);

            const posObj = { x, y, id: Date.now() + Math.random() };
            lastPositions.push(posObj);

            target.style.left = x + 'px';
            target.style.top = y + 'px';

            // ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏õ‡πâ‡∏≤ (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)
            target.addEventListener('pointerdown', (e) => {
                e.stopPropagation();
                hitSound.currentTime = 0;
                hitSound.play();

                const rect = target.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const clickY = e.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const dist = Math.sqrt(Math.pow(clickX - centerX, 2) + Math.pow(clickY - centerY, 2));

                if (dist <= (rect.width * 0.25)) {
                    bullseyeHits++; score += 150;
                } else {
                    outerHits++; score += 100;
                }

                hits++; totalClicks++;
                lastPositions = lastPositions.filter(p => p.id !== posObj.id);
                target.remove();
                createTarget();
                updateStats();

                // ‡∏™‡∏±‡πà‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö)
                if (navigator.vibrate) navigator.vibrate(20);
            });

            playArea.appendChild(target);
        }

        function updateStats() {
            scoreEl.innerText = score;
            const acc = totalClicks === 0 ? 100 : Math.round((hits / totalClicks) * 100);
            accuracyEl.innerText = acc + '%';
        }

        function endGame() {
            gameActive = false;
            clearInterval(timerInterval);
            const bullP = hits === 0 ? 0 : Math.round((bullseyeHits / hits) * 100);

            alert(`üéØ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°!\nScore: ${score}\nAccuracy: ${accuracyEl.innerText}\nBullseye: ${bullseyeHits} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á (${bullP}%)\nMisses: ${totalMisses} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á`);

            document.getElementById('start-btn').style.visibility = 'visible';
            document.getElementById('start-btn').innerText = 'TRY AGAIN';
        }
    </script>
</body>

</html>